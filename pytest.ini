# pytest.ini

# Note: The following warning filters are applied because downstream dependencies,
# such as nemoguardrails and langchain_community, are still using deprecated Pydantic V1
# constructs and deprecated LangChain components. These warnings are external to our code
# and will be resolved once these libraries upgrade to the updated implementations.
[pytest]
pythonpath = src
asyncio_mode = strict
asyncio_default_fixture_loop_scope = function
addopts = --strict-markers
filterwarnings =
    ignore:.*PydanticDeprecatedSince20.*:Warning
    ignore:.*DeprecationWarning.*:Warning
    ignore:.*LangChainDeprecationWarning.*:Warning
    ignore:.*parse_obj method is deprecated; use model_validate instead.*:Warning
    ignore:.*parse_obj.*deprecated.*:Warning
    ignore:.*@root_validator.*deprecated.*:Warning
    ignore:.*@validator.*deprecated.*:Warning
    ignore:.*Support for class-based `config` is deprecated.*:Warning
    ignore:.*langchain_community/llms/azureml_endpoint.py.*@validator.*deprecated.*:Warning
    ignore:.*pydantic/_internal/_config.py.*Support for class-based `config` is deprecated.*:Warning
    ignore:.*pydantic/v1/typing\.py.*:Warning
    ignore:.*Using extra keyword arguments on `Field` is deprecated.*:Warning
    ignore:.*nemoguardrails.*:Warning
markers =
    timeout: mark test as timeout
